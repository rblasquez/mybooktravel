"use strict";function getGeo(){if(navigator.geolocation){var e=new google.maps.Geocoder;navigator.geolocation.getCurrentPosition(function(o){var a=new google.maps.LatLng(o.coords.latitude,o.coords.longitude);e.geocode({latLng:a},processGeocoder)},function(o){var a=new google.maps.LatLng(o.coords.latitude,o.coords.longitude);e.geocode({latLng:a},processGeocoder)})}}function processGeocoder(e,o){var a=e[0];if(lng=a.geometry.location.lng(),lat=a.geometry.location.lat(),o==google.maps.GeocoderStatus.OK)if(a){for(var n=0;n<a.address_components.length;n++){var r=a.address_components[n].types[0];if(component[r]){var t=a.address_components[n][component[r]];component[r]=t}}propiedadesCercanas()}else error("Google no retorno resultado alguno.");else error("Geocoding fallo debido a : "+o)}function propiedadesCercanas(){"undefined"==typeof url_lugares||($.each(component,function(e,o){url_lugares=url_lugares.replace(campo[e],o)}),url_lugares=url_lugares.replace(":LAT",lat).replace(":LNG",lng),$.get(url_lugares,function(e){$(".alojamientosCercanos").append(e).ready(function(){lazyImages()})}))}function error(e){console.log(e)}$(".localidad").on("click",function(e){e.preventDefault();var o=$(this).attr("href");(new google.maps.Geocoder).geocode({address:o},function(e,a){if("OK"===a){var n=e[0].geometry.location;$(".direccion").val(o),$("campos_adicionales_ubicacion"),$(".pais").val("CL"),$(".tipo").val("natural_feature"),$(".latitud").val(n.lat()),$(".longitud").val(n.lng());var r=null;"La Serena"==o&&(r=obtenerLimitesMaxMin([-29.84454433631571,-71.17005078125021],[-29.953317192714483,-71.31837255859386])),"Vi침a del Mar"==o&&(r=obtenerLimitesMaxMin([-32.945329481700966,-71.46942822265635],[-33.058331446357684,-71.58822424316406])),"Conc칩n"==o&&(r=obtenerLimitesMaxMin([-32.91276672197713,-71.49449078369162],[-32.95180175810558,-71.56213171386736])),"Puc칩n"==o&&(r=obtenerLimitesMaxMin([-39.266709083560656,-71.91746441650412],[-39.29925317022208,-71.99471838378906])),"Maitencillo"==o&&(r=obtenerLimitesMaxMin([-32.56883348591596,-71.36059490966773],[-32.6976288923101,-71.52642614746117])),"Re침aca"==o&&(r=obtenerLimitesMaxMin([-32.94619381640774,-71.50067059326148],[-32.99817237882023,-71.58273107910173])),"Santiago"==o&&(r=obtenerLimitesMaxMin([-33.26541672999623,-70.39208142089859],[-33.678800654877755,-70.93659765625006])),"Coquimbo"==o&&(r=obtenerLimitesMaxMin([-29.92074968988513,-71.23253552246103],[-30.044300094321216,-71.4035166015625])),null!=r&&$.each(r.bounds,function(e,o){$("."+e,"#frmBuscar").val(o)}),$("#frmBuscar").submit()}else alert("Geocode was not successful for the following reason: "+a)})}),$(function(){google.maps.event.addDomListener(window,"load",function(){getGeo()}),$(".parallax").parallaxBackground({parallaxBgImage:"img/slider/slider4.jpg",parallaxBgSize:"cover",parallaxSpeed:12,parallaxDirection:"down"}),$(".sliding").slick({accessibility:!0,lazyLoad:"ondemand",adaptiveHeight:!0,autoplay:!0,autoplaySpeed:2500,fade:!0,easing:"easeInBack",pauseOnHover:!1,cssEase:"linear",arrows:!1})});var component={country:"short_name"},campo={country:":PAIS"},lat,lng;